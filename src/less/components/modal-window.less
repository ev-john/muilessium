// @name Modal window
// @description Should be used for images. Shouldn't be used for interactive content.
// @component ModalWindow
// @method openModal() - opens modal window
// @method closeModal() - closes modal window
// @depends shadow-toggle
// @depends image
// @depends svg-icon
//
// @markup
// <div class='mui-button -light-blue-3-bg -f-light-blue-4-bg' data-modal-opener='Wer45'>Open modal</div>
// <div class='mui-modal-window' id='Wer45'>
//     <div class='window _shadow-3'>
//         <div class='content -image'>
//              <img class='mui-image -js-lazy-load' data-src='https://placehold.it/800x600/00B5D6/6BC9DB' src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' alt='Image description'>
//              <noscript>
//                  <img class='mui-image' src='https://placehold.it/800x600/00B5D6/6BC9DB' alt='Image description'>
//              </noscript>
//         </div>
//         <div class='closeicon'>
//              <svg class='mui-svg-icon -black'><use xlink:href='#svg-icon--close'></use></svg>
//         </div>
//     </div>
//     <div class='mui-shadow-toggle'></div>
// </div>


.@{muilessium-prefix}modal-window {
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    z-index: 10;
    opacity: 0;
    pointer-events: none;
    transition: opacity @default-animation-function 600ms;

    &.-opened {
        opacity: 1;
        pointer-events: auto;
    }

    > .window {
        position: absolute;
        top: 50%;
        left: 50%;
        max-width: 80vw;
        max-height: 80vh;
        transform: translateX(-50%) translateY(-50%);
        z-index: 11;

        > .content {
            overflow: hidden;
            border-radius: .2rem;
        }

        > .content.-image {
            .mui-image {
                max-height: 80vh;
                max-width: 80vw;
            }
        }
    }

    > .window > .closeicon {
        position: absolute;
        top: -1rem;
        right: -1rem;
        height: 2rem;
        width: 2rem;
        font-size: 1.6rem;
        line-height: 2rem;
        text-align: center;
        border-radius: 50%;
        background: @white;
        border: 2px solid @grey-3;
        color: @grey-4;
        cursor: pointer;
        z-index: 2;
        box-sizing: content-box;

        &:hover,
        &:focus {
            background: @grey-2;
            color: @grey-5;
            transition: opacity @default-animation-function @default-animation-duration;
        }
    }

    > .mui-shadow-toggle {
        position: fixed;
        z-index: 10;
        top: 0;
        left: 0;
        height: 100vh;
        width: 100vw;

        &.-visible {
            background: fade(@black, 25);
        }
    }
}
